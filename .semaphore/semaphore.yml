version: v1.0
name: Semaphore Go CI example
agent:
  machine:
    type: f1-standard-2
    os_image: ubuntu2004
blocks:
  - name: Build project
    task:
      jobs:
        - name: go get & build
          commands:
            - echo hello
            - checkout
            - cache list
            - cache usage
            - echo "something" > /tmp/something.txt
            - cache store something-key /tmp/something.txt
            - artifact push job /tmp/something.txt
  - name: 'Block #2'
    task:
      jobs:
        - name: 'Job #1'
          commands:
            - ls
