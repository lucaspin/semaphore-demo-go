version: v1.0
name: Semaphore Go CI example
agent:
  machine:
    type: f1-standard-2
    os_image: ubuntu2004
blocks:
  - name: Build project
    task:
      jobs:
        - name: Test
          commands:
            - cd /tmp
            - 'curl -sL https://github.com/semaphoreci/artifact/releases/download/v0.6.5/artifact_Linux_x86_64.tar.gz -o artifact.tar.gz'
            - tar xzvf /tmp/artifact.tar.gz
            - sudo mv artifact /usr/local/bin
            - echo something > /tmp/something.txt
            - artifact push job /tmp/something.txt -v
            - rm something.txt
            - artifact pull job something.txt -v
            - cat something.txt
