version: v1.0
name: Semaphore Go CI example
agent:
  machine:
    type: s1-lucaspin-testing
    os_image: ''
blocks:
  - name: Build project
    task:
      jobs:
        - name: Test
          commands:
            - 'echo "OIDC token: $SEMAPHORE_OIDC_TOKEN"'
            - 'echo "Artifact token: $SEMAPHORE_ARTIFACT_TOKEN"'
            - 'echo "Other: $VAR_FOO"'
      env_vars:
        - name: VAR_FOO
          value: FOO_1
